<!doctype html>
<html lang="en">
<head>
    <title>Token redirection page</title>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--
    Kudos to the `Chatty` project for this idea: https://github.com/chatty/chatty
    -->
    <script type="text/javascript">
    <!--
    function initiate() {
        var hash = document.location.hash.substr(1);
        var hashParts = hash.split("&");
        var access_token = null;
        for (var i=0;i<hashParts.length;++i) {
            var parameterParts = hashParts[i].split("=");
            var key = parameterParts[0];
            var value = parameterParts[1];
            if (key == "access_token") {
                access_token = value;
            }
        }
        document.getElementById("javascript").className = "";
        if (access_token != null) {
                document.location.replace("http://localhost:8080/twitch-tag-carousel/token?access_token="+access_token);
        }
            else {
                document.getElementById("javascript").innerHTML = "Error: Access Token not found";
            }
    }
    -->
    </script>
    <style type="text/css">
	body { font-family: Consolas, sans-serif; text-align: center; background-color: #FFF; max-width: 500px; margin: auto; }
	input { font-family: Consolas, sans-serif; width: 300px; font-size: 1em; }
	noscript { color: red;  }
	.hide { display: none; }
    </style>
</head>
<body onload="initiate()">
<h1>Access token</h1>
<noscript>
    <p>This page requires <strong>JavaScript</strong> to get the token.</p>
</noscript>
<p id="javascript" class="hide">
    You should be redirected..
</p>
</body>
</html>
